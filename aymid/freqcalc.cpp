#include <stdio.h>
#include <stdlib.h>
#include <math.h>


const double note_to_freq[128] =
{ 8.1757989, 8.6619572, 9.1770240, 9.7227182, 10.3008612, 10.9133822, 11.5623257, 12.2498574, 12.9782718, 13.7500000, 14.5676175, 15.4338532,
16.3515978, 17.3239144, 18.3540480, 19.4454365, 20.6017223, 21.8267645, 23.1246514, 24.4997147, 25.9565436, 27.5000000, 29.1352351, 30.8677063,
32.7031957, 34.6478289, 36.7080960, 38.8908730, 41.2034446, 43.6535289, 46.2493028, 48.9994295, 51.9130872, 55.0000000, 58.2704702, 61.7354127,
65.4063913, 69.2956577, 73.4161920, 77.7817459, 82.4068892, 87.3070579, 92.4986057, 97.9988590, 103.8261744, 110.0000000, 116.5409404,
123.4708253, 130.8127827, 138.5913155, 146.8323840, 155.5634919, 164.8137785, 174.6141157, 184.9972114, 195.9977180, 207.6523488, 220.0000000,
233.0818808, 246.9416506, 261.6255653, 277.1826310, 293.6647679, 311.1269837, 329.6275569, 349.2282314, 369.9944227, 391.9954360, 415.3046976,
440.0000000, 466.1637615, 493.8833013, 523.2511306, 554.3652620, 587.3295358, 622.2539674, 659.2551138, 698.4564629, 739.9888454, 783.9908720,
830.6093952, 880.0000000, 932.3275230, 987.7666025, 1046.5022612, 1108.7305239, 1174.6590717, 1244.5079349, 1318.5102277, 1396.9129257,
1479.9776908, 1567.9817439, 1661.2187903, 1760.0000000, 1864.6550461, 1975.5332050, 2093.0045224, 2217.4610478, 2349.3181433, 2489.0158698,
2637.0204553, 2793.8258515, 2959.9553817, 3135.9634879, 3322.4375806, 3520.0000000, 3729.3100921, 3951.0664100, 4186.0090448, 4434.9220956,
4698.6362867, 4978.0317396, 5274.0409106, 5587.6517029, 5919.9107634, 6271.9269757, 6644.8751613, 7040.0000000, 7458.6201843, 7902.1328201,
8372.0180896, 8869.8441913, 9397.2725734, 9956.0634791, 10548.0818212, 11175.3034059, 11839.8215268, 12543.8539514 };

int main(int parc, char**pars)
{
    // ay pitch = (chipfreq/16)/freq, where chipfreq is 1774400 for spectrum
    double chipfreq = 1774400.0;
    printf("const unsigned char note_coarse[128] = {");
    for (int i = 0; i < 128; i++)
    {
        int v = (int)floor((chipfreq / 16) / note_to_freq[i]) >> 8;
        if (v > 15) v = 15;
        printf("%s%d", (i?", ":""),v);
    }
    printf("};\n");
    printf("const unsigned char note_fine[128] = {");
    for (int i = 0; i < 128; i++)
    {
        int f = (int)floor((chipfreq / 16) / note_to_freq[i]) & 0xff;
        int v = (int)floor((chipfreq / 16) / note_to_freq[i]) >> 8;
        if (v > 15) f = 255;        
        printf("%s%d", (i?", ":""), f);
    }
    printf("};\n");

    
    return 0;
}